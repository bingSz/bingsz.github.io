<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>使用Matlab来作雷达的信号级仿真 | Song&#39;s Blog</title>
<meta name="keywords" content="Matlab, Simulation">
<meta name="description" content="  Matlab的Radar Toolbox与Phased工具箱具有很强的功能，但是这方面的资料比较少，所以稍作整理之后便写了这篇文章。这篇文章主要介绍如何使用Matlab来作雷达的信号级仿真">
<meta name="author" content="Song">
<link rel="canonical" href="https://github.com/bingsz/bingsz.github.io/en/posts/matlabsimulateradar/">
<link crossorigin="anonymous" href="/bingsz/bingsz.github.io/assets/css/stylesheet.bf5f9f73cf17311d52cedbcda82c922e91b2f566d88a85ad9f5b5a08b586bd5f.css" integrity="sha256-v1&#43;fc88XMR1SztvNqCySLpGy9WbYioWtn1taCLWGvV8=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/bingsz/bingsz.github.io/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://github.com/bingsz/bingsz.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://github.com/bingsz/bingsz.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://github.com/bingsz/bingsz.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://github.com/bingsz/bingsz.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://github.com/bingsz/bingsz.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css" integrity="sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js" integrity="sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>


<meta property="og:title" content="使用Matlab来作雷达的信号级仿真" />
<meta property="og:description" content="  Matlab的Radar Toolbox与Phased工具箱具有很强的功能，但是这方面的资料比较少，所以稍作整理之后便写了这篇文章。这篇文章主要介绍如何使用Matlab来作雷达的信号级仿真" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://github.com/bingsz/bingsz.github.io/en/posts/matlabsimulateradar/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-09T18:42:05+08:00" />
<meta property="article:modified_time" content="2023-03-09T18:42:05+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="使用Matlab来作雷达的信号级仿真"/>
<meta name="twitter:description" content="  Matlab的Radar Toolbox与Phased工具箱具有很强的功能，但是这方面的资料比较少，所以稍作整理之后便写了这篇文章。这篇文章主要介绍如何使用Matlab来作雷达的信号级仿真"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "使用Matlab来作雷达的信号级仿真",
      "item": "https://github.com/bingsz/bingsz.github.io/en/posts/matlabsimulateradar/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "使用Matlab来作雷达的信号级仿真",
  "name": "使用Matlab来作雷达的信号级仿真",
  "description": " Matlab的Radar Toolbox与Phased工具箱具有很强的功能，但是这方面的资料比较少，所以稍作整理之后便写了这篇文章。这篇文章主要介绍如何使用Matlab来作雷达的信号级仿真\n",
  "keywords": [
    "Matlab", "Simulation"
  ],
  "articleBody": " Matlab的Radar Toolbox与Phased工具箱具有很强的功能，但是这方面的资料比较少，所以稍作整理之后便写了这篇文章。这篇文章主要介绍如何使用Matlab来作雷达的信号级仿真\n官方手册上给出了许多种仿真方法，但有些仿真方法只能实现模型级仿真，并不能实现信号级仿真。这里介绍的方法是主要使用Phased工具箱来进行信号级仿真。\n这个例子是来自官方手册的《Simulating Test Signals for a Radar Receiver》一节中，本文将主要围绕这个例子展开。为了不计算繁杂的雷达方程，在Matlab的雷达工具箱中，通常是通过指定一个目标的距离、雷达截面积以及检测概率与虚警概率来确定所需雷达环路增益（关于雷达的环路增益定义可参见Radar toolbox的Get started中的Simulate a Scanning Radar），不过在此处由于我们并不主要使用雷达工具箱中的工具，因此此处不使用雷达环路增益这个概念。\n1. 雷达相关参数计算 1.1. 计算信噪比 为了计算所需的信噪比，当进行非相干检测时，可以使用下述代码来计算所需的信噪比\n1 2 3 4 num_pulse_int = 10; pfa = 1e-6; pd = 0.9; snr_min = detectability(pd, pfa, num_pulse_int, 'Swerling0'); 当然，在官方手册中也给出了可以通过使用Albersheim经验公式来求得近似的最小信噪比\n1 2 3 4 num_pulse_int = 10; pfa = 1e-6; pd = 0.9; snr_min = albersheim(pd, pfa, num_pulse_int); 当进行相干检测时，可以通过如下方法来计算得到所需的信噪比\n1 2 3 4 num_pulse_int = 10; pfa = 1e-6; pd = 0.9; snr_min = detectability(pd, pfa, 1, 'Swerling0') - 10 * log10(num_pulse_int); 1.2. 发射机峰值功率 接下来便需要计算发射机的峰值功率，计算峰值功率时，可以假设检测在某距离下的一个物体的检测与虚警概率，然后通过雷达方程来计算所需的峰值功率。雷达方程可以手动写，也可以使用radareqpow函数来计算。\n1 2 3 4 5 6 7 8 c = 3e8; fc = 1e9; lambda = c / fc; max_range = 5e3; pulse_width = 1e-6; tx_gain = 20; tgt_rcs = 1; peak_power = radareqpow(lambda, max_range, snr_min, pulse_width, 'Gain', tx_gain, 'RCS', tgt_rcs); 或者\n1 2 peak_power = ((4*pi)^3*noisepow(1/pulse_width)*max_range^4*... db2pow(snr_min))/(db2pow(2*tx_gain)*tgt_rcs*lambda^2); 2. 相关设备定义 然后我们来定义一些相关的设备与参数。\n2.1. 定义波形 定义波形\n1 2 3 4 5 prf = prop_speed/(2*max_range); waveform = phased.RectangularWaveform(... 'PulseWidth',1/pulse_bw,... 'PRF',prf,... 'SampleRate',fs); 上述代码生成了一段矩形调幅脉冲信号。当然，Phased工具箱中也提供了包括线性调频信号等的脉冲波形。不过事实上，waveform这个变量并不一定需要通过Phased工具箱来获得，waveform在代码中的作用是提供脉冲波形与匹配滤波参数。因此换言之，我们也可以通过自己编写脉冲波形，并计算匹配滤波参数来自定义脉冲波形。\n2.2. 定义接收机与发射机 1 2 3 4 5 6 7 8 9 10 noise_bw = pulse_bw; receiver = phased.ReceiverPreamp(... 'Gain',20,... 'NoiseFigure',0,... 'SampleRate',fs,... 'EnableInputPort',true); transmitter = phased.Transmitter(... 'Gain',tx_gain,... 'PeakPower',peak_power,... 'InUseOutputPort',true); 上述代码定义了一个发射机与接收机，相关参数设置可以参考官方手册。\n2.3. 定义天线与发射平台 1 2 3 4 5 6 7 8 9 10 11 antenna = phased.IsotropicAntennaElement(... 'FrequencyRange',[5e9 15e9]); sensormotion = phased.Platform(... 'InitialPosition',[0; 0; 0],... 'Velocity',[0; 0; 0]); radiator = phased.Radiator(... 'Sensor',antenna,... 'OperatingFrequency',fc); collector = phased.Collector(... 'Sensor',antenna,... 'OperatingFrequency',fc); 上述代码定义了一个全方向性天线，如果要定义一个有方向性天线，可以使用诸如phased.GaussianAntennaElement来定义天线。phased.Platform定义了一个雷达运动平台，通过设置初始位置与运动速度可以求解得到各个时刻的位置与指向。phased.Radiator与phased.Collector定义了一个散射平台与接收平台，用于将电磁波散射到空间，并将空间中的电磁波接收回来。\n2.4. 定义目标 1 2 3 4 5 6 tgtpos = [[2024.66;0;0],[3518.63;0;0],[3845.04;0;0]]; tgtvel = [[0;0;0],[0;0;0],[0;0;0]]; tgtmotion = phased.Platform('InitialPosition',tgtpos,'Velocity',tgtvel); tgtrcs = [1.6 2.2 1.05]; target = phased.RadarTarget('MeanRCS',tgtrcs,'OperatingFrequency',fc); 上述代码定义了目标的运动平台与雷达目标散射特性。其中tgtrcs为雷达截面积，但是上述代码只能定义一个点目标，当需要仿真扩展目标或具有一定体积的目标时，便不能使用这种方法。\n2.5. 定义传输信道 1 2 3 4 channel = phased.FreeSpace(... 'SampleRate',fs,... 'TwoWayPropagation',true,... 'OperatingFrequency',fc); 上述代码定义了一个传输信道，TwoWayPropagation定义了一个双程信道，指的是计算过程中算及雷达的发射与接收路径，当TwoWayPropagation设定为False时，将只计算一个路程。因此当计算多基地雷达时，需要将此参数设定为False。\n3. 开始仿真 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 fast_time_grid = unigrid(0,1/fs,1/prf,'[)'); rxpulses = zeros(numel(fast_time_grid),num_pulse_int); for m = 1:num_pulse_int [sensorpos,sensorvel] = sensormotion(1/prf); [tgtpos,tgtvel] = tgtmotion(1/prf); [tgtrng,tgtang] = rangeangle(tgtpos,sensorpos); pulse = waveform(); [txsig,txstatus] = transmitter(pulse); txsig = radiator(txsig,tgtang); txsig = channel(txsig,sensorpos,tgtpos,sensorvel,tgtvel); tgtsig = target(txsig); rxsig = collector(tgtsig,tgtang); rxpulses(:,m) = receiver(rxsig,~(txstatus\u003e0)); end 上述代码就开始了仿真，sensormotion便是前文中所定义的雷达运动平台，其中的参数表示脉冲重复时间，用于表示所经过的时间。tgtmotion与sensormotion同理。rangeangle用于计算雷达天线与目标的夹角。waveform()便生成了一段发射波形，这个发射波形也可以通过自定义来实现。transmitter，radiator，channel，target，collector，receiver定义了一整套发射接收链路。首先通过发射机将信号传递至天线，随后使用天线将其发射出去，然后在空中传输，照射到目标上并反射回来，被天线所接收，最后使用接收机来接收。\n上述所得到的rxpulses便是接收得到的回波信号，后续的信号级仿真均可以通过对该矩阵进行操作来进行。\n4. 完整代码 上述只是给出了一个雷达仿真的大致代码，官方手册中的完整代码如下所示，可以对其中的参数进行修改来得到仿真目的。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 %% Simulating Test Signals for a Radar Receiver % This example shows how to simulate received signal of a monostatic pulse % radar to estimate the target range. A monostatic radar has the % transmitter collocated with the receiver. The transmitter generates a % pulse which hits the target and produces an echo received by the % receiver. By measuring the location of the echoes in time, we can % estimate the range of a target. % % This example focuses on a pulse % ",
  "wordCount" : "4970",
  "inLanguage": "en",
  "datePublished": "2023-03-09T18:42:05+08:00",
  "dateModified": "2023-03-09T18:42:05+08:00",
  "author":[{
    "@type": "Person",
    "name": "Song"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://github.com/bingsz/bingsz.github.io/en/posts/matlabsimulateradar/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Song's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://github.com/bingsz/bingsz.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://github.com/bingsz/bingsz.github.io/en/" accesskey="h" title="Song&#39;s Blog (Alt + H)">Song&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://github.com/bingsz/bingsz.github.io/en/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/en/bingsz/bingsz.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/bingsz/bingsz.github.io/en/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/bingsz/bingsz.github.io/en/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/bingsz/bingsz.github.io/en/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://github.com/bingsz/bingsz.github.io/en/">Home</a></div>
    <h1 class="post-title">
      使用Matlab来作雷达的信号级仿真
    </h1>
    <div class="post-meta"><span title='2023-03-09 18:42:05 +0800 CST'>2023-03-09</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;Song

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#__1-%e9%9b%b7%e8%be%be%e7%9b%b8%e5%85%b3%e5%8f%82%e6%95%b0%e8%ae%a1%e7%ae%97__" aria-label="1. 雷达相关参数计算"><strong>1. 雷达相关参数计算</strong></a><ul>
                        
                <li>
                    <a href="#__11-%e8%ae%a1%e7%ae%97%e4%bf%a1%e5%99%aa%e6%af%94__" aria-label="1.1. 计算信噪比"><strong>1.1. 计算信噪比</strong></a></li>
                <li>
                    <a href="#__12-%e5%8f%91%e5%b0%84%e6%9c%ba%e5%b3%b0%e5%80%bc%e5%8a%9f%e7%8e%87__" aria-label="1.2. 发射机峰值功率"><strong>1.2. 发射机峰值功率</strong></a></li></ul>
                </li>
                <li>
                    <a href="#__2-%e7%9b%b8%e5%85%b3%e8%ae%be%e5%a4%87%e5%ae%9a%e4%b9%89__" aria-label="2. 相关设备定义"><strong>2. 相关设备定义</strong></a><ul>
                        
                <li>
                    <a href="#__21-%e5%ae%9a%e4%b9%89%e6%b3%a2%e5%bd%a2__" aria-label="2.1. 定义波形"><strong>2.1. 定义波形</strong></a></li>
                <li>
                    <a href="#__22-%e5%ae%9a%e4%b9%89%e6%8e%a5%e6%94%b6%e6%9c%ba%e4%b8%8e%e5%8f%91%e5%b0%84%e6%9c%ba__" aria-label="2.2. 定义接收机与发射机"><strong>2.2. 定义接收机与发射机</strong></a></li>
                <li>
                    <a href="#__23-%e5%ae%9a%e4%b9%89%e5%a4%a9%e7%ba%bf%e4%b8%8e%e5%8f%91%e5%b0%84%e5%b9%b3%e5%8f%b0__" aria-label="2.3. 定义天线与发射平台"><strong>2.3. 定义天线与发射平台</strong></a></li>
                <li>
                    <a href="#__24-%e5%ae%9a%e4%b9%89%e7%9b%ae%e6%a0%87__" aria-label="2.4. 定义目标"><strong>2.4. 定义目标</strong></a></li>
                <li>
                    <a href="#__25-%e5%ae%9a%e4%b9%89%e4%bc%a0%e8%be%93%e4%bf%a1%e9%81%93__" aria-label="2.5. 定义传输信道"><strong>2.5. 定义传输信道</strong></a></li></ul>
                </li>
                <li>
                    <a href="#__3-%e5%bc%80%e5%a7%8b%e4%bb%bf%e7%9c%9f__" aria-label="3. 开始仿真"><strong>3. 开始仿真</strong></a></li>
                <li>
                    <a href="#__4-%e5%ae%8c%e6%95%b4%e4%bb%a3%e7%a0%81__" aria-label="4. 完整代码"><strong>4. 完整代码</strong></a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>  Matlab的Radar Toolbox与Phased工具箱具有很强的功能，但是这方面的资料比较少，所以稍作整理之后便写了这篇文章。这篇文章主要介绍如何使用Matlab来作雷达的信号级仿真</p>
<p>  官方手册上给出了许多种仿真方法，但有些仿真方法只能实现模型级仿真，并不能实现信号级仿真。这里介绍的方法是主要使用Phased工具箱来进行信号级仿真。</p>
<p>  这个例子是来自官方手册的《Simulating Test Signals for a Radar Receiver》一节中，本文将主要围绕这个例子展开。为了不计算繁杂的雷达方程，在Matlab的雷达工具箱中，通常是通过指定一个目标的距离、雷达截面积以及检测概率与虚警概率来确定所需雷达环路增益（关于雷达的环路增益定义可参见Radar toolbox的Get started中的Simulate a Scanning Radar），不过在此处由于我们并不主要使用雷达工具箱中的工具，因此此处不使用雷达环路增益这个概念。</p>
<h2 id="__1-雷达相关参数计算__"><strong>1. 雷达相关参数计算</strong><a hidden class="anchor" aria-hidden="true" href="#__1-雷达相关参数计算__">#</a></h2>
<h3 id="__11-计算信噪比__"><strong>1.1. 计算信噪比</strong><a hidden class="anchor" aria-hidden="true" href="#__11-计算信噪比__">#</a></h3>
<p>  为了计算所需的信噪比，当进行非相干检测时，可以使用下述代码来计算所需的信噪比</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>num_pulse_int = <span style="color:#ff0;font-weight:bold">10</span>;
</span></span><span style="display:flex;"><span>pfa = <span style="color:#ff0;font-weight:bold">1e-6</span>;
</span></span><span style="display:flex;"><span>pd = <span style="color:#ff0;font-weight:bold">0.9</span>;
</span></span><span style="display:flex;"><span>snr_min = detectability(pd, pfa, num_pulse_int, <span style="color:#0ff;font-weight:bold">&#39;Swerling0&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  当然，在官方手册中也给出了可以通过使用Albersheim经验公式来求得近似的最小信噪比</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>num_pulse_int = <span style="color:#ff0;font-weight:bold">10</span>;
</span></span><span style="display:flex;"><span>pfa = <span style="color:#ff0;font-weight:bold">1e-6</span>;
</span></span><span style="display:flex;"><span>pd = <span style="color:#ff0;font-weight:bold">0.9</span>;
</span></span><span style="display:flex;"><span>snr_min = albersheim(pd, pfa, num_pulse_int);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  当进行相干检测时，可以通过如下方法来计算得到所需的信噪比</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>num_pulse_int = <span style="color:#ff0;font-weight:bold">10</span>;
</span></span><span style="display:flex;"><span>pfa = <span style="color:#ff0;font-weight:bold">1e-6</span>;
</span></span><span style="display:flex;"><span>pd = <span style="color:#ff0;font-weight:bold">0.9</span>;
</span></span><span style="display:flex;"><span>snr_min = detectability(pd, pfa, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#0ff;font-weight:bold">&#39;Swerling0&#39;</span>) - <span style="color:#ff0;font-weight:bold">10</span> * <span style="color:#fff;font-weight:bold">log10</span>(num_pulse_int);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="__12-发射机峰值功率__"><strong>1.2. 发射机峰值功率</strong><a hidden class="anchor" aria-hidden="true" href="#__12-发射机峰值功率__">#</a></h3>
<p>  接下来便需要计算发射机的峰值功率，计算峰值功率时，可以假设检测在某距离下的一个物体的检测与虚警概率，然后通过雷达方程来计算所需的峰值功率。雷达方程可以手动写，也可以使用radareqpow函数来计算。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>c = <span style="color:#ff0;font-weight:bold">3e8</span>;
</span></span><span style="display:flex;"><span>fc = <span style="color:#ff0;font-weight:bold">1e9</span>;
</span></span><span style="display:flex;"><span>lambda = c / fc;
</span></span><span style="display:flex;"><span>max_range = <span style="color:#ff0;font-weight:bold">5e3</span>;
</span></span><span style="display:flex;"><span>pulse_width = <span style="color:#ff0;font-weight:bold">1e-6</span>;
</span></span><span style="display:flex;"><span>tx_gain = <span style="color:#ff0;font-weight:bold">20</span>;
</span></span><span style="display:flex;"><span>tgt_rcs = <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>peak_power = radareqpow(lambda, max_range, snr_min, pulse_width, <span style="color:#0ff;font-weight:bold">&#39;Gain&#39;</span>, tx_gain, <span style="color:#0ff;font-weight:bold">&#39;RCS&#39;</span>, tgt_rcs);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  或者</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>peak_power = ((<span style="color:#ff0;font-weight:bold">4</span>*<span style="color:#fff;font-weight:bold">pi</span>)^<span style="color:#ff0;font-weight:bold">3</span>*noisepow(<span style="color:#ff0;font-weight:bold">1</span>/pulse_width)*max_range^<span style="color:#ff0;font-weight:bold">4</span>*<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    db2pow(snr_min))/(db2pow(<span style="color:#ff0;font-weight:bold">2</span>*tx_gain)*tgt_rcs*lambda^<span style="color:#ff0;font-weight:bold">2</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="__2-相关设备定义__"><strong>2. 相关设备定义</strong><a hidden class="anchor" aria-hidden="true" href="#__2-相关设备定义__">#</a></h2>
<p>  然后我们来定义一些相关的设备与参数。</p>
<h3 id="__21-定义波形__"><strong>2.1. 定义波形</strong><a hidden class="anchor" aria-hidden="true" href="#__21-定义波形__">#</a></h3>
<p>  定义波形</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>prf = prop_speed/(<span style="color:#ff0;font-weight:bold">2</span>*max_range);
</span></span><span style="display:flex;"><span>waveform = phased.RectangularWaveform(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;PulseWidth&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>/pulse_bw,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;PRF&#39;</span>,prf,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;SampleRate&#39;</span>,fs);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  上述代码生成了一段矩形调幅脉冲信号。当然，Phased工具箱中也提供了包括线性调频信号等的脉冲波形。不过事实上，waveform这个变量并不一定需要通过Phased工具箱来获得，waveform在代码中的作用是提供脉冲波形与匹配滤波参数。因此换言之，我们也可以通过自己编写脉冲波形，并计算匹配滤波参数来自定义脉冲波形。</p>
<h3 id="__22-定义接收机与发射机__"><strong>2.2. 定义接收机与发射机</strong><a hidden class="anchor" aria-hidden="true" href="#__22-定义接收机与发射机__">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>noise_bw = pulse_bw;
</span></span><span style="display:flex;"><span>receiver = phased.ReceiverPreamp(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Gain&#39;</span>,<span style="color:#ff0;font-weight:bold">20</span>,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;NoiseFigure&#39;</span>,<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;SampleRate&#39;</span>,fs,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;EnableInputPort&#39;</span>,true);
</span></span><span style="display:flex;"><span>transmitter = phased.Transmitter(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Gain&#39;</span>,tx_gain,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;PeakPower&#39;</span>,peak_power,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;InUseOutputPort&#39;</span>,true);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  上述代码定义了一个发射机与接收机，相关参数设置可以参考官方手册。</p>
<h3 id="__23-定义天线与发射平台__"><strong>2.3. 定义天线与发射平台</strong><a hidden class="anchor" aria-hidden="true" href="#__23-定义天线与发射平台__">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>antenna = phased.IsotropicAntennaElement(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;FrequencyRange&#39;</span>,[<span style="color:#ff0;font-weight:bold">5e9</span> <span style="color:#ff0;font-weight:bold">15e9</span>]);
</span></span><span style="display:flex;"><span>sensormotion = phased.Platform(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;InitialPosition&#39;</span>,[<span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>],<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Velocity&#39;</span>,[<span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>]);
</span></span><span style="display:flex;"><span>radiator = phased.Radiator(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Sensor&#39;</span>,antenna,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span><span style="display:flex;"><span>collector = phased.Collector(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Sensor&#39;</span>,antenna,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  上述代码定义了一个全方向性天线，如果要定义一个有方向性天线，可以使用诸如phased.GaussianAntennaElement来定义天线。phased.Platform定义了一个雷达运动平台，通过设置初始位置与运动速度可以求解得到各个时刻的位置与指向。phased.Radiator与phased.Collector定义了一个散射平台与接收平台，用于将电磁波散射到空间，并将空间中的电磁波接收回来。</p>
<h3 id="__24-定义目标__"><strong>2.4. 定义目标</strong><a hidden class="anchor" aria-hidden="true" href="#__24-定义目标__">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>tgtpos = [[<span style="color:#ff0;font-weight:bold">2024.66</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">3518.63</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">3845.04</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>]];
</span></span><span style="display:flex;"><span>tgtvel = [[<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>]];
</span></span><span style="display:flex;"><span>tgtmotion = phased.Platform(<span style="color:#0ff;font-weight:bold">&#39;InitialPosition&#39;</span>,tgtpos,<span style="color:#0ff;font-weight:bold">&#39;Velocity&#39;</span>,tgtvel);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tgtrcs = [<span style="color:#ff0;font-weight:bold">1.6</span> <span style="color:#ff0;font-weight:bold">2.2</span> <span style="color:#ff0;font-weight:bold">1.05</span>];
</span></span><span style="display:flex;"><span>target = phased.RadarTarget(<span style="color:#0ff;font-weight:bold">&#39;MeanRCS&#39;</span>,tgtrcs,<span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  上述代码定义了目标的运动平台与雷达目标散射特性。其中tgtrcs为雷达截面积，但是上述代码只能定义一个点目标，当需要仿真扩展目标或具有一定体积的目标时，便不能使用这种方法。</p>
<h3 id="__25-定义传输信道__"><strong>2.5. 定义传输信道</strong><a hidden class="anchor" aria-hidden="true" href="#__25-定义传输信道__">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>channel = phased.FreeSpace(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;SampleRate&#39;</span>,fs,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;TwoWayPropagation&#39;</span>,true,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span></code></pre></td></tr></table>
</div>
</div><p>  上述代码定义了一个传输信道，TwoWayPropagation定义了一个双程信道，指的是计算过程中算及雷达的发射与接收路径，当TwoWayPropagation设定为False时，将只计算一个路程。因此当计算多基地雷达时，需要将此参数设定为False。</p>
<h2 id="__3-开始仿真__"><strong>3. 开始仿真</strong><a hidden class="anchor" aria-hidden="true" href="#__3-开始仿真__">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span>fast_time_grid = unigrid(<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">1</span>/fs,<span style="color:#ff0;font-weight:bold">1</span>/prf,<span style="color:#0ff;font-weight:bold">&#39;[)&#39;</span>);
</span></span><span style="display:flex;"><span>rxpulses = <span style="color:#fff;font-weight:bold">zeros</span>(<span style="color:#fff;font-weight:bold">numel</span>(fast_time_grid),num_pulse_int);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> m = <span style="color:#ff0;font-weight:bold">1</span>:num_pulse_int
</span></span><span style="display:flex;"><span>    [sensorpos,sensorvel] = sensormotion(<span style="color:#ff0;font-weight:bold">1</span>/prf);
</span></span><span style="display:flex;"><span>    [tgtpos,tgtvel] = tgtmotion(<span style="color:#ff0;font-weight:bold">1</span>/prf);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    [tgtrng,tgtang] = rangeangle(tgtpos,sensorpos);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    pulse = waveform();
</span></span><span style="display:flex;"><span>    [txsig,txstatus] = transmitter(pulse);
</span></span><span style="display:flex;"><span>    txsig = radiator(txsig,tgtang);
</span></span><span style="display:flex;"><span>    txsig = channel(txsig,sensorpos,tgtpos,sensorvel,tgtvel);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    tgtsig = target(txsig);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    rxsig = collector(tgtsig,tgtang);
</span></span><span style="display:flex;"><span>    rxpulses(:,m) = receiver(rxsig,~(txstatus&gt;<span style="color:#ff0;font-weight:bold">0</span>));
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">end</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>  上述代码就开始了仿真，sensormotion便是前文中所定义的雷达运动平台，其中的参数表示脉冲重复时间，用于表示所经过的时间。tgtmotion与sensormotion同理。rangeangle用于计算雷达天线与目标的夹角。waveform()便生成了一段发射波形，这个发射波形也可以通过自定义来实现。transmitter，radiator，channel，target，collector，receiver定义了一整套发射接收链路。首先通过发射机将信号传递至天线，随后使用天线将其发射出去，然后在空中传输，照射到目标上并反射回来，被天线所接收，最后使用接收机来接收。</p>
<p>  上述所得到的rxpulses便是接收得到的回波信号，后续的信号级仿真均可以通过对该矩阵进行操作来进行。</p>
<h2 id="__4-完整代码__"><strong>4. 完整代码</strong><a hidden class="anchor" aria-hidden="true" href="#__4-完整代码__">#</a></h2>
<p>  上述只是给出了一个雷达仿真的大致代码，官方手册中的完整代码如下所示，可以对其中的参数进行修改来得到仿真目的。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">248
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">249
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">250
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">251
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">252
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">253
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">254
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">255
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">256
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">257
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">258
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">259
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">260
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">261
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">262
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">263
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">264
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">265
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">266
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">267
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">268
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">269
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">270
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">271
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">272
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">273
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">274
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">275
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">276
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">277
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">278
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">279
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">280
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">281
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">282
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">283
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">284
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">285
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">286
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">287
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">288
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">289
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">290
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">291
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">292
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">293
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">294
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">295
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">296
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">297
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">298
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">299
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">300
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">301
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">302
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">303
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">304
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">305
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">306
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">307
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">308
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">309
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">310
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">311
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">312
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">313
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">314
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">315
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">316
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">317
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">318
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">319
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">320
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">321
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">322
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">323
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">324
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">325
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">326
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">327
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">328
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">329
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">330
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">331
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">332
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">333
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">334
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">335
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">336
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">337
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">338
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">339
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">340
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">341
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">342
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">343
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">344
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">345
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">346
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">347
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">348
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">349
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">350
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">351
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">352
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">353
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">354
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">355
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">356
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">357
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">358
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">359
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">360
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">361
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">362
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">363
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">364
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">365
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">366
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">367
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">368
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">369
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">370
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">371
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">372
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">373
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">374
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">375
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">376
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">377
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">378
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">379
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">380
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">381
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">382
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">383
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">384
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">385
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">386
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">387
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">388
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">389
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">390
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">391
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">392
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">393
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">394
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">395
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">396
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">397
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">398
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">399
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">400
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">401
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">402
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">403
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">404
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">405
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">406
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">407
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">408
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">409
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">410
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">411
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">412
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">413
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">414
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">415
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">416
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">417
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">418
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">419
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">420
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">421
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">422
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">423
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">424
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">425
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">426
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">427
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">428
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#007f7f">%% Simulating Test Signals for a Radar Receiver</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% This example shows how to simulate received signal of a monostatic pulse</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% radar to estimate the target range. A monostatic radar has the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% transmitter collocated with the receiver. The transmitter generates a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% pulse which hits the target and produces an echo received by the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% receiver. By measuring the location of the echoes in time, we can</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% estimate the range of a target.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% This example focuses on a pulse</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% &lt;https://www.mathworks.com/discovery/radar-system-design.html radar</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% system design&gt; which can achieve a set of design specifications. It</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% outlines the steps to translate design specifications, such as the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% probability of detection and the range resolution, into radar system</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% parameters, such as the transmit power and the pulse width. It also</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% models the environment and targets to synthesize the received signal.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Finally, signal processing techniques are applied to the received signal</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% to detect the ranges of the targets.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%   Copyright 2007-2021 The MathWorks, Inc.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% Design Specifications</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The design goal of this pulse radar system is to detect non-fluctuating</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% targets with at least one square meter radar cross section (RCS) at a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% distance up to 5000 meters from the radar with a range resolution of 50</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% meters. The desired performance index is a probability of detection (Pd)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% of 0.9 and probability of false alarm (Pfa) below 1e-6. Since coherent</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% detection requires phase information and, therefore is more</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% computationally expensive, we adopt a noncoherent detection scheme. In</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% addition, this example assumes a free space environment.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pd = <span style="color:#ff0;font-weight:bold">0.9</span>;            <span style="color:#007f7f">% Probability of detection</span>
</span></span><span style="display:flex;"><span>pfa = <span style="color:#ff0;font-weight:bold">1e-6</span>;          <span style="color:#007f7f">% Probability of false alarm</span>
</span></span><span style="display:flex;"><span>max_range = <span style="color:#ff0;font-weight:bold">5000</span>;    <span style="color:#007f7f">% Maximum unambiguous range</span>
</span></span><span style="display:flex;"><span>range_res = <span style="color:#ff0;font-weight:bold">50</span>;      <span style="color:#007f7f">% Required range resolution</span>
</span></span><span style="display:flex;"><span>tgt_rcs = <span style="color:#ff0;font-weight:bold">1</span>;         <span style="color:#007f7f">% Required target radar cross section</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% Monostatic Radar System Design</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We need to define several characteristics of the radar system such as the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% waveform, the receiver, the transmitter, and the antenna used to radiate</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% and collect the signal.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Waveform*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We choose a rectangular waveform in this example. The desired range</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% resolution determines the bandwidth of the waveform, which, in the case</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% of a rectangular waveform, determines the pulse width. </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Another important parameter of a pulse waveform is the pulse repetition</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% frequency (PRF). The PRF is determined by the maximum unambiguous range.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>prop_speed = physconst(<span style="color:#0ff;font-weight:bold">&#39;LightSpeed&#39;</span>);   <span style="color:#007f7f">% Propagation speed</span>
</span></span><span style="display:flex;"><span>pulse_bw = prop_speed/(<span style="color:#ff0;font-weight:bold">2</span>*range_res);    <span style="color:#007f7f">% Pulse bandwidth</span>
</span></span><span style="display:flex;"><span>pulse_width = <span style="color:#ff0;font-weight:bold">1</span>/pulse_bw;               <span style="color:#007f7f">% Pulse width</span>
</span></span><span style="display:flex;"><span>prf = prop_speed/(<span style="color:#ff0;font-weight:bold">2</span>*max_range);         <span style="color:#007f7f">% Pulse repetition frequency</span>
</span></span><span style="display:flex;"><span>fs = <span style="color:#ff0;font-weight:bold">2</span>*pulse_bw;                        <span style="color:#007f7f">% Sampling rate</span>
</span></span><span style="display:flex;"><span>waveform = phased.RectangularWaveform(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;PulseWidth&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>/pulse_bw,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;PRF&#39;</span>,prf,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;SampleRate&#39;</span>,fs);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Note that we set the sampling rate as twice the bandwidth.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Receiver Noise Characteristics*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We assume that the only noise present at the receiver is the thermal</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% noise, so there is no clutter involved in this simulation. The power of</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the thermal noise is related to the receiver bandwidth. The receiver&#39;s</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% noise bandwidth is set to be the same as the bandwidth of the waveform.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% This is often the case in real systems. We also assume that the receiver</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% has a 20 dB gain and a 0 dB noise figure.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>noise_bw = pulse_bw;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>receiver = phased.ReceiverPreamp(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Gain&#39;</span>,<span style="color:#ff0;font-weight:bold">20</span>,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;NoiseFigure&#39;</span>,<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;SampleRate&#39;</span>,fs,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;EnableInputPort&#39;</span>,true);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Note that because we are modeling a monostatic radar, the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% receiver cannot be turned on until the transmitter is off. Therefore, we</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% set the EnableInputPort property to true so that a synchronization signal</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% can be passed from the transmitter to the receiver.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Transmitter*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The most critical parameter of a transmitter is the peak transmit power.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The required peak power is related to many factors including the maximum</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% unambiguous range, the required SNR at the receiver, and the pulse width</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% of the waveform. Among these factors, the required SNR at the receiver is</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% determined by the design goal of Pd and Pfa, as well as the detection</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% scheme implemented at the receiver.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The relation between Pd, Pfa and SNR can be best represented by a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% receiver operating characteristics (ROC) curve. We can generate the curve</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% where Pd is a function of Pfa for varying SNRs using the following</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% command:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>snr_db = [-<span style="color:#fff;font-weight:bold">inf</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">13</span>];
</span></span><span style="display:flex;"><span>rocsnr(snr_db,<span style="color:#0ff;font-weight:bold">&#39;SignalType&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;NonfluctuatingNoncoherent&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The ROC curves show that to satisfy the design goals of Pfa = 1e-6 and Pd</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% = 0.9, the received signal&#39;s SNR must exceed 13 dB. This is a fairly high</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% requirement and is not very practical. To make the radar system more</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% feasible, we can use a pulse integration technique to reduce the required</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% SNR. If we choose to integrate 10 pulses, the curve can be generated as</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>num_pulse_int = <span style="color:#ff0;font-weight:bold">10</span>;
</span></span><span style="display:flex;"><span>rocsnr([<span style="color:#ff0;font-weight:bold">0</span> <span style="color:#ff0;font-weight:bold">3</span> <span style="color:#ff0;font-weight:bold">5</span>],<span style="color:#0ff;font-weight:bold">&#39;SignalType&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;NonfluctuatingNoncoherent&#39;</span>,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;NumPulses&#39;</span>,num_pulse_int);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We can see that the required power has dropped to around 5 dB. Further</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% reduction of SNR can be achieved by integrating more pulses, but the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% number of pulses available for integration is normally limited due to the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% motion of the target or the heterogeneity of the environment.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The approach above reads out the SNR value from the curve, but it is </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% often desirable to calculate only the required value. For the noncoherent</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% detection scheme, the calculation of the required SNR is, in theory,</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% quite complex. Fortunately, there are good approximations available, such</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% as Albersheim&#39;s equation. Using Albersheim&#39;s equation, the required SNR</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% can be derived as</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>snr_min = albersheim(pd, pfa, num_pulse_int)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Once we obtain the required SNR at the receiver, the peak power at the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% transmitter can be calculated using the radar equation. Here we assume</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% that the transmitter has a gain of 20 dB.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% To calculate the peak power using the radar equation, we also need to</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% know the wavelength of the propagating signal, which is related to the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% operating frequency of the system. Here we set the operating frequency to</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% 10 GHz.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tx_gain = <span style="color:#ff0;font-weight:bold">20</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fc = <span style="color:#ff0;font-weight:bold">10e9</span>;
</span></span><span style="display:flex;"><span>lambda = prop_speed/fc;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>peak_power = ((<span style="color:#ff0;font-weight:bold">4</span>*<span style="color:#fff;font-weight:bold">pi</span>)^<span style="color:#ff0;font-weight:bold">3</span>*noisepow(<span style="color:#ff0;font-weight:bold">1</span>/pulse_width)*max_range^<span style="color:#ff0;font-weight:bold">4</span>*<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    db2pow(snr_min))/(db2pow(<span style="color:#ff0;font-weight:bold">2</span>*tx_gain)*tgt_rcs*lambda^<span style="color:#ff0;font-weight:bold">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Note that the resulting power is about 5 kW, which is very reasonable. In</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% comparison, if we had not used the pulse integration technique, the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% resulting peak power would have been 33 kW, which is huge.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% With all this information, we can configure the transmitter.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>transmitter = phased.Transmitter(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Gain&#39;</span>,tx_gain,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;PeakPower&#39;</span>,peak_power,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;InUseOutputPort&#39;</span>,true);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Again, since this example models a monostatic radar system, the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% InUseOutputPort is set to true to output the status of the transmitter.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% This status signal can then be used to enable the receiver.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Radiator and Collector*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% In a radar system, the signal propagates in the form of an</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% electromagnetic wave. Therefore, the signal needs to be radiated and</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% collected by the antenna used in the radar system. This is where the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% radiator and the collector come into the picture.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% In a monostatic radar system, the radiator and the collector share the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% same antenna, so we will first define the antenna. To simplify the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% design, we choose an isotropic antenna. Note that the antenna needs to be</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% able to work at the operating frequency of the system (10 GHz), so we set</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the antenna&#39;s frequency range to 5-15 GHz.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We assume that the antenna is stationary.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>antenna = phased.IsotropicAntennaElement(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;FrequencyRange&#39;</span>,[<span style="color:#ff0;font-weight:bold">5e9</span> <span style="color:#ff0;font-weight:bold">15e9</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sensormotion = phased.Platform(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;InitialPosition&#39;</span>,[<span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>],<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Velocity&#39;</span>,[<span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>; <span style="color:#ff0;font-weight:bold">0</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% With the antenna and the operating frequency, we define both the radiator</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% and the collector.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>radiator = phased.Radiator(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Sensor&#39;</span>,antenna,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>collector = phased.Collector(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Sensor&#39;</span>,antenna,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% This completes the configuration of the radar system. In the following</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% sections, we will define other entities, such as the target and the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% environment that are needed for the simulation. We will then simulate the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% signal return and perform range detection on the simulated signal.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% System Simulation</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Targets*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% To test our radar&#39;s ability to detect targets, we must define the targets</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% first. Let us assume that there are 3 stationary, non-fluctuating targets</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% in space. Their positions and radar cross sections are given below.</span>
</span></span><span style="display:flex;"><span>tgtpos = [[<span style="color:#ff0;font-weight:bold">2024.66</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">3518.63</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">3845.04</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>]];
</span></span><span style="display:flex;"><span>tgtvel = [[<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>],[<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>;<span style="color:#ff0;font-weight:bold">0</span>]];
</span></span><span style="display:flex;"><span>tgtmotion = phased.Platform(<span style="color:#0ff;font-weight:bold">&#39;InitialPosition&#39;</span>,tgtpos,<span style="color:#0ff;font-weight:bold">&#39;Velocity&#39;</span>,tgtvel);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tgtrcs = [<span style="color:#ff0;font-weight:bold">1.6</span> <span style="color:#ff0;font-weight:bold">2.2</span> <span style="color:#ff0;font-weight:bold">1.05</span>];
</span></span><span style="display:flex;"><span>target = phased.RadarTarget(<span style="color:#0ff;font-weight:bold">&#39;MeanRCS&#39;</span>,tgtrcs,<span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Propagation Environment*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% To simulate the signal, we also need to define the propagation channel</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% between the radar system and each target. </span>
</span></span><span style="display:flex;"><span>channel = phased.FreeSpace(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;SampleRate&#39;</span>,fs,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;TwoWayPropagation&#39;</span>,true,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;OperatingFrequency&#39;</span>,fc);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Because this example uses a monostatic radar system, the channels are set</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% to simulate two way propagation delays.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Signal Synthesis*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We are now ready to simulate the entire system. </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The synthesized signal is a data matrix with the fast time (time within</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% each pulse) along each column and the slow time (time between pulses)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% along each row.  To visualize the signal, it is helpful to define both</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the fast time grid and slow time grid.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fast_time_grid = unigrid(<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">1</span>/fs,<span style="color:#ff0;font-weight:bold">1</span>/prf,<span style="color:#0ff;font-weight:bold">&#39;[)&#39;</span>);
</span></span><span style="display:flex;"><span>slow_time_grid = (<span style="color:#ff0;font-weight:bold">0</span>:num_pulse_int-<span style="color:#ff0;font-weight:bold">1</span>)/prf;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The following loop simulates 10 pulses of the receive signal.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We set the seed for the noise generation in the receiver so that we can</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% reproduce the same results.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>receiver.SeedSource = <span style="color:#0ff;font-weight:bold">&#39;Property&#39;</span>;
</span></span><span style="display:flex;"><span>receiver.Seed = <span style="color:#ff0;font-weight:bold">2007</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Pre-allocate array for improved processing speed</span>
</span></span><span style="display:flex;"><span>rxpulses = <span style="color:#fff;font-weight:bold">zeros</span>(<span style="color:#fff;font-weight:bold">numel</span>(fast_time_grid),num_pulse_int);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> m = <span style="color:#ff0;font-weight:bold">1</span>:num_pulse_int
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">% Update sensor and target positions</span>
</span></span><span style="display:flex;"><span>    [sensorpos,sensorvel] = sensormotion(<span style="color:#ff0;font-weight:bold">1</span>/prf);
</span></span><span style="display:flex;"><span>    [tgtpos,tgtvel] = tgtmotion(<span style="color:#ff0;font-weight:bold">1</span>/prf);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">% Calculate the target angles as seen by the sensor</span>
</span></span><span style="display:flex;"><span>    [tgtrng,tgtang] = rangeangle(tgtpos,sensorpos);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">% Simulate propagation of pulse in direction of targets</span>
</span></span><span style="display:flex;"><span>    pulse = waveform();
</span></span><span style="display:flex;"><span>    [txsig,txstatus] = transmitter(pulse);
</span></span><span style="display:flex;"><span>    txsig = radiator(txsig,tgtang);
</span></span><span style="display:flex;"><span>    txsig = channel(txsig,sensorpos,tgtpos,sensorvel,tgtvel);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">% Reflect pulse off of targets</span>
</span></span><span style="display:flex;"><span>    tgtsig = target(txsig);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">% Receive target returns at sensor</span>
</span></span><span style="display:flex;"><span>    rxsig = collector(tgtsig,tgtang);
</span></span><span style="display:flex;"><span>    rxpulses(:,m) = receiver(rxsig,~(txstatus&gt;<span style="color:#ff0;font-weight:bold">0</span>));
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% Range Detection</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Detection Threshold*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The detector compares the signal power to a given threshold. In radar</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% applications, the threshold is often chosen so that the Pfa is below a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% certain level. In this case, we assume the noise is white Gaussian and</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the detection is noncoherent. Since we are also using 10 pulses to do</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the pulse integration, the signal power threshold is given by</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npower = noisepow(noise_bw,receiver.NoiseFigure,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    receiver.ReferenceTemperature);
</span></span><span style="display:flex;"><span>threshold = npower * db2pow(npwgnthresh(pfa,num_pulse_int,<span style="color:#0ff;font-weight:bold">&#39;noncoherent&#39;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We plot the first two received pulses with the threshold</span>
</span></span><span style="display:flex;"><span>num_pulse_plot = <span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% helperRadarPulsePlot(rxpulses,threshold,...</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%     fast_time_grid,slow_time_grid,num_pulse_plot);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The threshold in these figures is for display purpose only. Note that</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the second and third target returns are much weaker than the first return</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% because they are farther away from the radar. Therefore, the received</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% signal power is range dependent and the threshold is unfair to targets</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% located at different ranges.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Matched Filter*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The matched filter offers a processing gain which improves the detection</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% threshold. It convolves the received signal with a local, time-reversed,</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% and conjugated copy of transmitted waveform. Therefore, we must specify</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the transmitted waveform when creating our matched filter. The received</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% pulses are first passed through a matched filter to improve the SNR</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% before doing pulse integration, threshold detection, etc.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>matchingcoeff = getMatchedFilter(waveform);
</span></span><span style="display:flex;"><span>matchedfilter = phased.MatchedFilter(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;Coefficients&#39;</span>,matchingcoeff,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;GainOutputPort&#39;</span>,true);
</span></span><span style="display:flex;"><span>[rxpulses, mfgain] = matchedfilter(rxpulses);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The matched filter introduces an intrinsic filter delay so that the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% locations of the peak (the maximum SNR output sample) are no longer</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% aligned with the true target locations. To compensate for this delay, in</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% this example, we will move the output of the matched filter forward and</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% pad the zeros at the end. Note that in real systems, because the data</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% is collected continuously, there is really no end of it.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>matchingdelay = <span style="color:#fff;font-weight:bold">size</span>(matchingcoeff,<span style="color:#ff0;font-weight:bold">1</span>)-<span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>rxpulses = buffer(rxpulses(matchingdelay+<span style="color:#ff0;font-weight:bold">1</span>:<span style="color:#fff;font-weight:bold">end</span>),<span style="color:#fff;font-weight:bold">size</span>(rxpulses,<span style="color:#ff0;font-weight:bold">1</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The threshold is then increased by the matched filter processing gain.</span>
</span></span><span style="display:flex;"><span>threshold = threshold * db2pow(mfgain);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The following plot shows the same two pulses after they pass through the</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% matched filter.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% helperRadarPulsePlot(rxpulses,threshold,...</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%     fast_time_grid,slow_time_grid,num_pulse_plot);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% After the matched filter stage, the SNR is improved. However, because</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the received signal power is dependent on the range, the return of a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% close target is still much stronger than the return of a target farther</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% away. Therefore, as the above figure shows, the noise from a close range</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% bin also has a significant chance of surpassing the threshold and</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% shadowing a target farther away. To ensure the threshold is fair to all</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the targets within the detectable range, we can use a time varying gain</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% to compensate for the range dependent loss in the received echo.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% To compensate for the range dependent loss, we first calculate the range</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% gates corresponding to each signal sample and then calculate the free</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% space path loss corresponding to each range gate. Once that information</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% is obtained, we apply a time varying gain to the received pulse so that</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the returns are as if from the same reference range (the maximum</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% detectable range).</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>range_gates = prop_speed*fast_time_grid/<span style="color:#ff0;font-weight:bold">2</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tvg = phased.TimeVaryingGain(<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;RangeLoss&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>*fspl(range_gates,lambda),<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#39;ReferenceLoss&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>*fspl(max_range,lambda));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rxpulses = tvg(rxpulses);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Now let&#39;s plot the same two pulses after the range normalization </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% helperRadarPulsePlot(rxpulses,threshold,...</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%     fast_time_grid,slow_time_grid,num_pulse_plot);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The time varying gain operation results in a ramp in the noise floor.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% However, the target return is now range independent. A constant</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% threshold can now be used for detection across the entire detectable</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% range.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Notice that at this stage, the threshold is above the maximum power level</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% contained in each pulse. Therefore, nothing can be detected at this</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% stage yet. We need to perform pulse integration to ensure the power of</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% returned echoes from the targets can surpass the threshold while leaving</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the noise floor below the bar. This is expected since it is the pulse</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% integration which allows us to use the lower power pulse train.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Noncoherent Integration*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% We can further improve the SNR by noncoherently integrating (video</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% integration) the received pulses.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rxpulses = pulsint(rxpulses,<span style="color:#0ff;font-weight:bold">&#39;noncoherent&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>helperRadarPulsePlot(rxpulses,threshold,<span style="color:#007f7f">...</span>
</span></span><span style="display:flex;"><span>    fast_time_grid,slow_time_grid,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% After the video integration stage, the data is ready for the final</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% detection stage. It can be seen from the figure that all three echoes</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% from the targets are above the threshold, and therefore can be detected.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% *Range Detection*</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Finally, the threshold detection is performed on the integrated pulses.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The detection scheme identifies the peaks and then translates their</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% positions into the ranges of the targets.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[~,range_detect] = findpeaks(rxpulses,<span style="color:#0ff;font-weight:bold">&#39;MinPeakHeight&#39;</span>,<span style="color:#fff;font-weight:bold">sqrt</span>(threshold));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% The true ranges and the detected ranges of the targets are shown below:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>true_range = <span style="color:#fff;font-weight:bold">round</span>(tgtrng)
</span></span><span style="display:flex;"><span>range_estimates = <span style="color:#fff;font-weight:bold">round</span>(range_gates(range_detect))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%%</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% Note that these range estimates are only accurate up to the range</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% resolution (50 m) that can be achieved by the radar system.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">%% Summary</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% In this example, we designed a radar system based on a set of given</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% performance goals. From these performance goals, many design parameters</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% of the radar system were calculated. The example also showed how to use</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the designed radar to perform a range detection task. In this example,</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% the radar used a rectangular waveform. Interested readers can refer to</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% &lt;docid:phased_ug.example-ex12077916&gt; for an example using a chirp</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">% waveform.</span>
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://github.com/bingsz/bingsz.github.io/en/tags/matlab/">Matlab</a></li>
      <li><a href="https://github.com/bingsz/bingsz.github.io/en/tags/simulation/">Simulation</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://github.com/bingsz/bingsz.github.io/en/posts/coherentdepth/">
    <span class="title">« Prev</span>
    <br>
    <span>分布式全相参雷达的相参景深</span>
  </a>
  <a class="next" href="https://github.com/bingsz/bingsz.github.io/en/posts/bestapproximation/">
    <span class="title">Next »</span>
    <br>
    <span>矩阵论：子空间的最佳逼近</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share 使用Matlab来作雷达的信号级仿真 on twitter"
        href="https://twitter.com/intent/tweet/?text=%e4%bd%bf%e7%94%a8Matlab%e6%9d%a5%e4%bd%9c%e9%9b%b7%e8%be%be%e7%9a%84%e4%bf%a1%e5%8f%b7%e7%ba%a7%e4%bb%bf%e7%9c%9f&amp;url=https%3a%2f%2fgithub.com%2fbingsz%2fbingsz.github.io%2fen%2fposts%2fmatlabsimulateradar%2f&amp;hashtags=Matlab%2cSimulation">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 使用Matlab来作雷达的信号级仿真 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgithub.com%2fbingsz%2fbingsz.github.io%2fen%2fposts%2fmatlabsimulateradar%2f&amp;title=%e4%bd%bf%e7%94%a8Matlab%e6%9d%a5%e4%bd%9c%e9%9b%b7%e8%be%be%e7%9a%84%e4%bf%a1%e5%8f%b7%e7%ba%a7%e4%bb%bf%e7%9c%9f&amp;summary=%e4%bd%bf%e7%94%a8Matlab%e6%9d%a5%e4%bd%9c%e9%9b%b7%e8%be%be%e7%9a%84%e4%bf%a1%e5%8f%b7%e7%ba%a7%e4%bb%bf%e7%9c%9f&amp;source=https%3a%2f%2fgithub.com%2fbingsz%2fbingsz.github.io%2fen%2fposts%2fmatlabsimulateradar%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 使用Matlab来作雷达的信号级仿真 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fgithub.com%2fbingsz%2fbingsz.github.io%2fen%2fposts%2fmatlabsimulateradar%2f&title=%e4%bd%bf%e7%94%a8Matlab%e6%9d%a5%e4%bd%9c%e9%9b%b7%e8%be%be%e7%9a%84%e4%bf%a1%e5%8f%b7%e7%ba%a7%e4%bb%bf%e7%9c%9f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 使用Matlab来作雷达的信号级仿真 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgithub.com%2fbingsz%2fbingsz.github.io%2fen%2fposts%2fmatlabsimulateradar%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 使用Matlab来作雷达的信号级仿真 on whatsapp"
        href="https://api.whatsapp.com/send?text=%e4%bd%bf%e7%94%a8Matlab%e6%9d%a5%e4%bd%9c%e9%9b%b7%e8%be%be%e7%9a%84%e4%bf%a1%e5%8f%b7%e7%ba%a7%e4%bb%bf%e7%9c%9f%20-%20https%3a%2f%2fgithub.com%2fbingsz%2fbingsz.github.io%2fen%2fposts%2fmatlabsimulateradar%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 使用Matlab来作雷达的信号级仿真 on telegram"
        href="https://telegram.me/share/url?text=%e4%bd%bf%e7%94%a8Matlab%e6%9d%a5%e4%bd%9c%e9%9b%b7%e8%be%be%e7%9a%84%e4%bf%a1%e5%8f%b7%e7%ba%a7%e4%bb%bf%e7%9c%9f&amp;url=https%3a%2f%2fgithub.com%2fbingsz%2fbingsz.github.io%2fen%2fposts%2fmatlabsimulateradar%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://github.com/bingsz/bingsz.github.io/en/">Song&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
